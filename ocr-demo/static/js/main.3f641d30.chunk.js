(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(41)},24:function(e,t,n){},27:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(2),i=n.n(o),c=(n(24),n(4)),l=n.n(c),s=n(10),d=n(11),m=n(12),u=n(16),p=n(13),g=n(17),h=(n(27),n(14)),f=n.n(h),v=(n(30),n(15)),w=n.n(v),E=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={src:null,crop:{width:50,x:0,y:0},fields:{}},n.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",function(){return n.setState({src:t.result})}),t.readAsDataURL(e.target.files[0])}},n.onImageLoaded=function(e,t){n.imageRef=e},n.onCropComplete=function(e,t){n.makeClientCrop(e,t)},n.makeClientCrop=function(){var e=Object(s.a)(l.a.mark(function e(t,a){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,n.getCroppedImg(n.imageRef,a,"newFile.jpeg");case 3:r=e.sent,n.setState({croppedImageUrl:r});case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.getCroppedImg=function(e,t,a){var r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),n.setState({croppedCanvas:r}),new Promise(function(e,t){r.toBlob(function(t){t?(t.name=a,window.URL.revokeObjectURL(n.fileUrl),n.fileUrl=window.URL.createObjectURL(t),e(n.fileUrl)):console.error("empty canvas")},"image/jpeg")})},n.onCropChange=function(e){return n.setState({crop:e})},n.recognize=function(e){var t=n.state.fields,a=t[e];console.log("fields",t);var r=a&&a.trim().toLowerCase();n.setState({isProcessing:!0}),Tesseract.recognize(n.state.croppedCanvas).then(function(t){var a=t.text,o=a&&a.trim().toLowerCase();console.log("xtt: ".concat(o," === ").concat(r)),n.setState({txt:a,isProcessing:!1}),o===r?window.alert("\u2714\ufe0f ".concat(e," entered right!")):window.alert("\u274c ".concat(e," entered wrong!!"))})},n.setField=function(e,t){var a=t.target.value;console.log("name",e),console.log("vaslue",a);var r=n.state.fields;r[e]=a,n.setState({fields:r})},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.src,a=t.crop,o=t.croppedImageUrl,i=t.txt,c=t.isProcessing;return r.a.createElement(w.a,{active:c,spinner:!0,text:"Processing selected image area"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"TEH P@SSBOOK VERIFIER"),r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.onSelectFile})),r.a.createElement("div",{style:{minHeight:"1000px"}},n&&r.a.createElement(f.a,{src:n,crop:a,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}))),r.a.createElement("div",null,r.a.createElement("div",{className:"cropped"},r.a.createElement("h3",null,"Selected Area"),o&&r.a.createElement("img",{alt:"Crop",style:{maxWidth:"100%"},src:o}),r.a.createElement("div",{className:"ocr-result"}," ",i&&r.a.createElement("span",null,i))),r.a.createElement("div",null,["Account Number","Name","Date of Birth"].map(function(t){return r.a.createElement("div",{className:"field",key:t},r.a.createElement("span",null,t,":\xa0"),r.a.createElement("input",{type:"text",onChange:function(n){return e.setField(t,n)}}),r.a.createElement("button",{onClick:function(){return e.recognize(t)}},"validate this"))}))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.3f641d30.chunk.js.map